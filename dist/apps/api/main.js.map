{"version":3,"file":"main.js","mappings":"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","sources":["external commonjs \"@nestjs/common\"","external commonjs \"@nestjs/core\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/app.module.ts","external commonjs \"tslib\"","external commonjs \"@nestjs/config\"","external commonjs \"@nestjs/typeorm\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/app.controller.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/app.service.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/auth/auth.module.ts","external commonjs \"@nestjs/jwt\"","external commonjs \"@nestjs/passport\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/auth/auth.controller.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/auth/auth.service.ts","external commonjs \"bcrypt\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/users/users.service.ts","external commonjs \"typeorm\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/entities/user.entity.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/entities/organization.entity.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/auth/dto/login.dto.ts","external commonjs \"class-validator\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/auth/jwt.strategy.ts","external commonjs \"passport-jwt\"","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/users/users.module.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/orgs/orgs.module.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/orgs/orgs.service.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/tasks/tasks.module.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/entities/task.entity.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/tasks/tasks.service.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/index.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/lib/auth.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/lib/roles.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/lib/permissions.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/lib/decorators/require-permissions.decorator.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/lib/guards/rbac.guard.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/libs/auth/src/lib/access-control.service.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/audit/audit.service.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/entities/audit-log.entity.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/tasks/tasks.controller.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/tasks/dto/create-task.dto.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/tasks/dto/update-task.dto.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/audit/audit.module.ts","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/app/audit/audit.controller.ts","webpack/bootstrap","/Users/jake/Documents/GitHub/jmofa-3d2f7c0c-3b3a-4d5a-9c1a-2a2c3f4a5b6/apps/api/src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","import { Module } from '@nestjs/common';\nimport { ConfigModule, ConfigService } from '@nestjs/config';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { AuthModule } from './auth/auth.module';\nimport { UsersModule } from './users/users.module';\nimport { OrgsModule } from './orgs/orgs.module';\nimport { TasksModule } from './tasks/tasks.module';\nimport { AuditModule } from './audit/audit.module';\nimport { Organization } from './entities/organization.entity';\nimport { User } from './entities/user.entity';\nimport { Task } from './entities/task.entity';\nimport { AuditLog } from './entities/audit-log.entity';\n\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      isGlobal: true,\n      envFilePath: '.env',\n    }),\n    TypeOrmModule.forRootAsync({\n      imports: [ConfigModule],\n      useFactory: (configService: ConfigService) => ({\n        type: 'sqlite',\n        database: configService.get<string>('DB_PATH') || './dev.sqlite',\n        entities: [Organization, User, Task, AuditLog],\n        synchronize: true, // Auto-create tables (dev only)\n        logging: false,\n      }),\n      inject: [ConfigService],\n    }),\n    AuthModule,\n    UsersModule,\n    OrgsModule,\n    TasksModule,\n    AuditModule,\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule {}\n","module.exports = require(\"tslib\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/typeorm\");","import { Controller, Get } from '@nestjs/common';\nimport { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n}\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Hello API' };\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\nimport { PassportModule } from '@nestjs/passport';\nimport { ConfigModule, ConfigService } from '@nestjs/config';\nimport { AuthController } from './auth.controller';\nimport { AuthService } from './auth.service';\nimport { JwtStrategy } from './jwt.strategy';\nimport { UsersModule } from '../users/users.module';\n\n@Module({\n  imports: [\n    UsersModule,\n    PassportModule,\n    JwtModule.registerAsync({\n      imports: [ConfigModule],\n      useFactory: (configService: ConfigService) => ({\n        secret: configService.get<string>('JWT_SECRET') || 'super-dev-secret',\n        signOptions: {\n          expiresIn: (configService.get<string>('JWT_EXPIRES_IN') || '3600s') as any,\n        },\n      }),\n      inject: [ConfigService],\n    }),\n  ],\n  controllers: [AuthController],\n  providers: [AuthService, JwtStrategy],\n  exports: [AuthService],\n})\nexport class AuthModule {}","module.exports = require(\"@nestjs/jwt\");","module.exports = require(\"@nestjs/passport\");","import { Controller, Post, Body, Get, UseGuards, Request } from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\nimport { AuthService } from './auth.service';\nimport { LoginDto } from './dto/login.dto';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly authService: AuthService) {}\n\n  @Post('login')\n  async login(@Body() loginDto: LoginDto) {\n    return this.authService.login(loginDto);\n  }\n\n  @Get('me')\n  @UseGuards(AuthGuard('jwt'))\n  async getProfile(@Request() req) {\n    return req.user;\n  }\n}","import { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { JwtService } from '@nestjs/jwt';\nimport * as bcrypt from 'bcrypt';\nimport { LoginDto } from './dto/login.dto';\nimport { UsersService } from '../users/users.service';\nimport { User } from '../entities/user.entity';\n\n@Injectable()\nexport class AuthService {\n  constructor(\n    private readonly jwtService: JwtService,\n    private readonly usersService: UsersService,\n  ) {}\n\n  async login(loginDto: LoginDto) {\n    const { email, password } = loginDto;\n    const user = await this.validateUser(email, password);\n\n    if (!user) {\n      throw new UnauthorizedException('Invalid credentials');\n    }\n\n    const payload = {\n      email: user.email,\n      sub: user.id,\n      orgId: user.orgId,\n      role: user.role,\n    };\n\n    return {\n      access_token: this.jwtService.sign(payload),\n      user: {\n        id: user.id,\n        email: user.email,\n        role: user.role,\n        orgId: user.orgId,\n      },\n    };\n  }\n\n  async validateUser(email: string, password: string): Promise<User | null> {\n    const user = await this.usersService.findByEmail(email);\n    if (!user) {\n      return null;\n    }\n\n    const isPasswordValid = await bcrypt.compare(password, user.passwordHash);\n    if (!isPasswordValid) {\n      return null;\n    }\n\n    return user;\n  }\n\n  async validateToken(payload: any) {\n    return {\n      id: payload.sub,\n      email: payload.email,\n      orgId: payload.orgId,\n      role: payload.role,\n    };\n  }\n}","module.exports = require(\"bcrypt\");","import { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { User } from '../entities/user.entity';\n\n@Injectable()\nexport class UsersService {\n  constructor(\n    @InjectRepository(User)\n    private usersRepository: Repository<User>,\n  ) {}\n\n  async findByEmail(email: string): Promise<User | null> {\n    return this.usersRepository.findOne({ where: { email } });\n  }\n\n  async findById(id: string): Promise<User | null> {\n    return this.usersRepository.findOne({ where: { id } });\n  }\n\n  async create(userData: Partial<User>): Promise<User> {\n    const user = this.usersRepository.create(userData);\n    return this.usersRepository.save(user);\n  }\n}\n","module.exports = require(\"typeorm\");","import { Entity, PrimaryGeneratedColumn, Column, ManyToOne } from 'typeorm';\nimport { Organization } from './organization.entity';\n\nexport enum UserRole {\n  OWNER = 'owner',\n  ADMIN = 'admin',\n  VIEWER = 'viewer',\n}\n\n@Entity('users')\nexport class User {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ unique: true })\n  email: string;\n\n  @Column()\n  passwordHash: string;\n\n  @Column({\n    type: 'text',\n    enum: UserRole,\n    default: UserRole.VIEWER,\n  })\n  role: UserRole;\n\n  @Column()\n  orgId: string;\n\n  @ManyToOne(() => Organization)\n  organization: Organization;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  createdAt: Date;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  updatedAt: Date;\n}\n","import { Entity, PrimaryGeneratedColumn, Column, ManyToOne, OneToMany } from 'typeorm';\n\n@Entity('organizations')\nexport class Organization {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  name: string;\n\n  @Column({ nullable: true })\n  parentOrgId: string;\n\n  @ManyToOne(() => Organization, { nullable: true })\n  parentOrg: Organization;\n\n  @OneToMany(() => Organization, (org) => org.parentOrg)\n  childOrgs: Organization[];\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  createdAt: Date;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  updatedAt: Date;\n}\n","import { IsEmail, IsNotEmpty, IsString, MinLength } from 'class-validator';\n\nexport class LoginDto {\n  @IsEmail()\n  @IsNotEmpty()\n  email: string;\n\n  @IsString()\n  @IsNotEmpty()\n  @MinLength(6)\n  password: string;\n}\n","module.exports = require(\"class-validator\");","import { Injectable } from '@nestjs/common';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { ConfigService } from '@nestjs/config';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(\n    private readonly authService: AuthService,\n    private readonly configService: ConfigService,\n  ) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      ignoreExpiration: false,\n      secretOrKey: configService.get<string>('JWT_SECRET') || 'super-dev-secret',\n    });\n  }\n\n  async validate(payload: any) {\n    return this.authService.validateToken(payload);\n  }\n}","module.exports = require(\"passport-jwt\");","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { User } from '../entities/user.entity';\nimport { UsersService } from './users.service';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([User])],\n  providers: [UsersService],\n  exports: [UsersService],\n})\nexport class UsersModule {}\n","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { Organization } from '../entities/organization.entity';\nimport { OrgsService } from './orgs.service';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([Organization])],\n  providers: [OrgsService],\n  exports: [OrgsService],\n})\nexport class OrgsModule {}\n","import { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { Organization } from '../entities/organization.entity';\n\n@Injectable()\nexport class OrgsService {\n  constructor(\n    @InjectRepository(Organization)\n    private orgsRepository: Repository<Organization>,\n  ) {}\n\n  async findById(id: string): Promise<Organization | null> {\n    return this.orgsRepository.findOne({ where: { id } });\n  }\n\n  async getChildOrgIds(orgId: string): Promise<string[]> {\n    const children = await this.orgsRepository.find({\n      where: { parentOrgId: orgId },\n    });\n    return children.map((org) => org.id);\n  }\n\n  async create(orgData: Partial<Organization>): Promise<Organization> {\n    const org = this.orgsRepository.create(orgData);\n    return this.orgsRepository.save(org);\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { Task } from '../entities/task.entity';\nimport { TasksService } from './tasks.service';\nimport { TasksController } from './tasks.controller';\nimport { AccessControlService } from '@jmofa/auth';\nimport { OrgsModule } from '../orgs/orgs.module';\nimport { AuditModule } from '../audit/audit.module';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([Task]), OrgsModule, AuditModule],\n  controllers: [TasksController],\n  providers: [TasksService, AccessControlService],\n})\nexport class TasksModule {}\n","import { Entity, PrimaryGeneratedColumn, Column, ManyToOne } from 'typeorm';\nimport { User } from './user.entity';\nimport { Organization } from './organization.entity';\n\nexport enum TaskStatus {\n  TODO = 'todo',\n  IN_PROGRESS = 'in_progress',\n  DONE = 'done',\n}\n\n@Entity('tasks')\nexport class Task {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  title: string;\n\n  @Column({ nullable: true })\n  description: string;\n\n  @Column({ default: 'general' })\n  category: string;\n\n  @Column({\n    type: 'text',\n    enum: TaskStatus,\n    default: TaskStatus.TODO,\n  })\n  status: TaskStatus;\n\n  @Column({ default: 0 })\n  orderIndex: number;\n\n  @Column()\n  orgId: string;\n\n  @ManyToOne(() => Organization)\n  organization: Organization;\n\n  @Column()\n  ownerUserId: string;\n\n  @ManyToOne(() => User)\n  owner: User;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  createdAt: Date;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  updatedAt: Date;\n}\n","import { Injectable, NotFoundException, ForbiddenException } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository, In } from 'typeorm';\nimport { Task } from '../entities/task.entity';\nimport { CreateTaskDto } from './dto/create-task.dto';\nimport { UpdateTaskDto } from './dto/update-task.dto';\nimport { UserContext, AccessControlService } from '@jmofa/auth';\nimport { OrgsService } from '../orgs/orgs.service';\nimport { AuditService } from '../audit/audit.service';\n\n@Injectable()\nexport class TasksService {\n  constructor(\n    @InjectRepository(Task)\n    private tasksRepository: Repository<Task>,\n    private accessControlService: AccessControlService,\n    private orgsService: OrgsService,\n    private auditService: AuditService,\n  ) {}\n\n  async create(user: UserContext, createTaskDto: CreateTaskDto): Promise<Task> {\n    // User can only create tasks in their own org\n    const task = this.tasksRepository.create({\n      ...createTaskDto,\n      orgId: user.orgId,\n      ownerUserId: user.id,\n    });\n\n    const savedTask = await this.tasksRepository.save(task);\n\n    await this.auditService.log({\n      userId: user.id,\n      action: 'task:create',\n      resourceType: 'task',\n      resourceId: savedTask.id,\n      allowed: true,\n    });\n\n    return savedTask;\n  }\n\n  async findAll(user: UserContext): Promise<Task[]> {\n    // Get child org IDs for org scoping\n    const childOrgIds = await this.orgsService.getChildOrgIds(user.orgId);\n    const accessibleOrgIds = this.accessControlService.getAccessibleOrgIds(\n      user,\n      childOrgIds,\n    );\n\n    const tasks = await this.tasksRepository.find({\n      where: { orgId: In(accessibleOrgIds) },\n      order: { orderIndex: 'ASC', createdAt: 'DESC' },\n    });\n\n    await this.auditService.log({\n      userId: user.id,\n      action: 'task:read',\n      resourceType: 'task',\n      allowed: true,\n    });\n\n    return tasks;\n  }\n\n  async findOne(user: UserContext, id: string): Promise<Task> {\n    const task = await this.tasksRepository.findOne({ where: { id } });\n\n    if (!task) {\n      await this.auditService.log({\n        userId: user.id,\n        action: 'task:read',\n        resourceType: 'task',\n        resourceId: id,\n        allowed: false,\n        reason: 'Task not found',\n      });\n      throw new NotFoundException('Task not found');\n    }\n\n    // Check if user can access this task's org\n    const childOrgIds = await this.orgsService.getChildOrgIds(user.orgId);\n    const canAccess = this.accessControlService.canAccessOrg(\n      user,\n      task.orgId,\n      childOrgIds,\n    );\n\n    if (!canAccess) {\n      await this.auditService.log({\n        userId: user.id,\n        action: 'task:read',\n        resourceType: 'task',\n        resourceId: id,\n        allowed: false,\n        reason: 'Org access denied',\n      });\n      throw new ForbiddenException('Cannot access this task');\n    }\n\n    await this.auditService.log({\n      userId: user.id,\n      action: 'task:read',\n      resourceType: 'task',\n      resourceId: id,\n      allowed: true,\n    });\n\n    return task;\n  }\n\n  async update(\n    user: UserContext,\n    id: string,\n    updateTaskDto: UpdateTaskDto,\n  ): Promise<Task> {\n    const task = await this.findOne(user, id);\n\n    // User can update if they have update permission and can access the org\n    Object.assign(task, updateTaskDto);\n    const updatedTask = await this.tasksRepository.save(task);\n\n    await this.auditService.log({\n      userId: user.id,\n      action: 'task:update',\n      resourceType: 'task',\n      resourceId: id,\n      allowed: true,\n    });\n\n    return updatedTask;\n  }\n\n  async remove(user: UserContext, id: string): Promise<void> {\n    const task = await this.findOne(user, id);\n\n    await this.tasksRepository.remove(task);\n\n    await this.auditService.log({\n      userId: user.id,\n      action: 'task:delete',\n      resourceType: 'task',\n      resourceId: id,\n      allowed: true,\n    });\n  }\n}","export * from './lib/auth';\nexport * from './lib/roles';\nexport * from './lib/permissions';\nexport * from './lib/decorators/require-permissions.decorator';\nexport * from './lib/guards/rbac.guard';\nexport * from './lib/access-control.service';\n","export function auth(): string {\n  return 'auth';\n}\n","export enum Role {\n  OWNER = 'owner',\n  ADMIN = 'admin',\n  VIEWER = 'viewer',\n}\n","import { Role } from './roles';\n\nexport type Action = 'create' | 'read' | 'update' | 'delete';\nexport type Resource = 'task' | 'audit-log';\nexport type Permission = `${Resource}:${Action}`;\n\n// Define what each role can do\nexport const ROLE_PERMISSIONS: Record<Role, Permission[]> = {\n  [Role.VIEWER]: [\n    'task:read',\n  ],\n  [Role.ADMIN]: [\n    'task:create',\n    'task:read',\n    'task:update',\n    'task:delete',\n    'audit-log:read',\n  ],\n  [Role.OWNER]: [\n    'task:create',\n    'task:read',\n    'task:update',\n    'task:delete',\n    'audit-log:read',\n  ],\n};\n\nexport function hasPermission(role: Role, permission: Permission): boolean {\n  return ROLE_PERMISSIONS[role]?.includes(permission) || false;\n}\n","import { SetMetadata } from '@nestjs/common';\nimport { Permission } from '../permissions';\n\nexport const PERMISSIONS_KEY = 'permissions';\nexport const RequirePermissions = (...permissions: Permission[]) =>\n  SetMetadata(PERMISSIONS_KEY, permissions);\n","import { Injectable, CanActivate, ExecutionContext, ForbiddenException } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { PERMISSIONS_KEY } from '../decorators/require-permissions.decorator';\nimport { Permission, hasPermission } from '../permissions';\nimport { Role } from '../roles';\n\n@Injectable()\nexport class RbacGuard implements CanActivate {\n  constructor(private reflector: Reflector) {}\n\n  canActivate(context: ExecutionContext): boolean {\n    const requiredPermissions = this.reflector.getAllAndOverride<Permission[]>(\n      PERMISSIONS_KEY,\n      [context.getHandler(), context.getClass()],\n    );\n\n    if (!requiredPermissions) {\n      return true; // No permissions required\n    }\n\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n\n    if (!user || !user.role) {\n      throw new ForbiddenException('User not authenticated');\n    }\n\n    const userRole = user.role as Role;\n\n    // Check if user has ALL required permissions\n    const hasAllPermissions = requiredPermissions.every((permission) =>\n      hasPermission(userRole, permission),\n    );\n\n    if (!hasAllPermissions) {\n      throw new ForbiddenException(\n        `Insufficient permissions. Required: ${requiredPermissions.join(', ')}`,\n      );\n    }\n\n    return true;\n  }\n}\n","import { Injectable } from '@nestjs/common';\nimport { Role } from './roles';\n\nexport interface UserContext {\n  id: string;\n  email: string;\n  role: Role;\n  orgId: string;\n}\n\n@Injectable()\nexport class AccessControlService {\n  /**\n   * Get list of organization IDs that a user can access\n   * - Viewer: only their own org\n   * - Admin: their org + child orgs\n   * - Owner: their org + child orgs\n   */\n  getAccessibleOrgIds(\n    user: UserContext,\n    childOrgIds: string[] = [],\n  ): string[] {\n    if (user.role === Role.VIEWER) {\n      return [user.orgId];\n    }\n\n    // Admin and Owner can access their org and child orgs\n    return [user.orgId, ...childOrgIds];\n  }\n\n  /**\n   * Check if user can access a specific org\n   */\n  canAccessOrg(\n    user: UserContext,\n    targetOrgId: string,\n    childOrgIds: string[] = [],\n  ): boolean {\n    const accessibleOrgs = this.getAccessibleOrgIds(user, childOrgIds);\n    return accessibleOrgs.includes(targetOrgId);\n  }\n\n  /**\n   * Check if user owns a resource (created by them)\n   */\n  isResourceOwner(user: UserContext, resourceOwnerId: string): boolean {\n    return user.id === resourceOwnerId;\n  }\n}\n","import { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { AuditLog } from '../entities/audit-log.entity';\n\n@Injectable()\nexport class AuditService {\n  constructor(\n    @InjectRepository(AuditLog)\n    private auditRepository: Repository<AuditLog>,\n  ) {}\n\n  async log(logData: {\n    userId: string;\n    action: string;\n    resourceType: string;\n    resourceId?: string;\n    allowed: boolean;\n    reason?: string;\n  }): Promise<void> {\n    const log = this.auditRepository.create(logData);\n    await this.auditRepository.save(log);\n  }\n\n  async findAll(): Promise<AuditLog[]> {\n    return this.auditRepository.find({ order: { timestamp: 'DESC' } });\n  }\n}\n","import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm';\n\n@Entity('audit_logs')\nexport class AuditLog {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  userId: string;\n\n  @Column()\n  action: string;\n\n  @Column()\n  resourceType: string;\n\n  @Column({ nullable: true })\n  resourceId: string;\n\n  @Column()\n  allowed: boolean;\n\n  @Column({ nullable: true })\n  reason: string;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  timestamp: Date;\n}\n","import {\n  Controller,\n  Get,\n  Post,\n  Put,\n  Delete,\n  Body,\n  Param,\n  UseGuards,\n  Request,\n} from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\nimport { RbacGuard, RequirePermissions } from '@jmofa/auth';\nimport { TasksService } from './tasks.service';\nimport { CreateTaskDto } from './dto/create-task.dto';\nimport { UpdateTaskDto } from './dto/update-task.dto';\n\n@Controller('tasks')\n@UseGuards(AuthGuard('jwt'), RbacGuard)\nexport class TasksController {\n  constructor(private readonly tasksService: TasksService) {}\n\n  @Post()\n  @RequirePermissions('task:create')\n  async create(@Request() req, @Body() createTaskDto: CreateTaskDto) {\n    return this.tasksService.create(req.user, createTaskDto);\n  }\n\n  @Get()\n  @RequirePermissions('task:read')\n  async findAll(@Request() req) {\n    return this.tasksService.findAll(req.user);\n  }\n\n  @Get(':id')\n  @RequirePermissions('task:read')\n  async findOne(@Request() req, @Param('id') id: string) {\n    return this.tasksService.findOne(req.user, id);\n  }\n\n  @Put(':id')\n  @RequirePermissions('task:update')\n  async update(\n    @Request() req,\n    @Param('id') id: string,\n    @Body() updateTaskDto: UpdateTaskDto,\n  ) {\n    return this.tasksService.update(req.user, id, updateTaskDto);\n  }\n\n  @Delete(':id')\n  @RequirePermissions('task:delete')\n  async remove(@Request() req, @Param('id') id: string) {\n    await this.tasksService.remove(req.user, id);\n    return { message: 'Task deleted successfully' };\n  }\n}\n","import { IsString, IsOptional, IsEnum } from 'class-validator';\nimport { TaskStatus } from '../../entities/task.entity';\n\nexport class CreateTaskDto {\n  @IsString()\n  title: string;\n\n  @IsOptional()\n  @IsString()\n  description?: string;\n\n  @IsOptional()\n  @IsString()\n  category?: string;\n\n  @IsOptional()\n  @IsEnum(TaskStatus)\n  status?: TaskStatus;\n\n  @IsOptional()\n  orderIndex?: number;\n}\n","import { IsString, IsOptional, IsEnum } from 'class-validator';\nimport { TaskStatus } from '../../entities/task.entity';\n\nexport class UpdateTaskDto {\n  @IsOptional()\n  @IsString()\n  title?: string;\n\n  @IsOptional()\n  @IsString()\n  description?: string;\n\n  @IsOptional()\n  @IsString()\n  category?: string;\n\n  @IsOptional()\n  @IsEnum(TaskStatus)\n  status?: TaskStatus;\n\n  @IsOptional()\n  orderIndex?: number;\n}\n","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { AuditLog } from '../entities/audit-log.entity';\nimport { AuditService } from './audit.service';\nimport { AuditController } from './audit.controller';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([AuditLog])],\n  controllers: [AuditController],\n  providers: [AuditService],\n  exports: [AuditService],\n})\nexport class AuditModule {}\n","import { Controller, Get, UseGuards, Request } from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\nimport { RbacGuard, RequirePermissions } from '@jmofa/auth';\nimport { AuditService } from './audit.service';\n\n@Controller('audit-log')\n@UseGuards(AuthGuard('jwt'), RbacGuard)\nexport class AuditController {\n  constructor(private readonly auditService: AuditService) {}\n\n  @Get()\n  @RequirePermissions('audit-log:read')\n  async findAll(@Request() req) {\n    return this.auditService.findAll();\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport { Logger, ValidationPipe } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app/app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  \n  // Enable CORS for frontend\n  app.enableCors();\n  \n  // Enable validation globally\n  app.useGlobalPipes(\n    new ValidationPipe({\n      whitelist: true,\n      forbidNonWhitelisted: true,\n      transform: true,\n    }),\n  );\n  \n  const globalPrefix = 'api';\n  app.setGlobalPrefix(globalPrefix);\n  const port = process.env.PORT || 3000;\n  await app.listen(port);\n  Logger.log(\n    ` Application is running on: http://localhost:${port}/${globalPrefix}`,\n  );\n}\n\nbootstrap();\n"],"names":[],"ignoreList":[],"sourceRoot":""}